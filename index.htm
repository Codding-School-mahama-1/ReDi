<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            box-sizing: border-box;
            height: 100%;
            margin: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-x: hidden;
        }

        #hero-section {
            background-image: url('./image copy.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            padding: 50px 0;
            height: calc(100vh - 80px);
        }

        html {
            height: 100%;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #5bdd0f 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            color: white;
            font-weight: 500;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }

        .notification.error {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
        }

        /* Chat Styles */
        .message {
            max-width: 70%;
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            margin-bottom: 0.5rem;
            word-wrap: break-word;
        }

        .message.sent {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 0.25rem;
        }

        .message.received {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border-bottom-left-radius: 0.25rem;
        }

        .message-time {
            font-size: 0.75rem;
            opacity: 0.7;
            margin-top: 0.25rem;
        }

        .voice-message {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .voice-wave {
            width: 100px;
            height: 20px;
            background: repeating-linear-gradient(90deg,
                    rgba(255, 255, 255, 0.3) 0px,
                    rgba(255, 255, 255, 0.3) 2px,
                    transparent 2px,
                    transparent 6px);
            border-radius: 10px;
        }

        .recording-pulse {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        .nav-btn.active {
            background: rgba(255, 255, 255, 0.2);
            border-left: 4px solid #fff;
        }

        .report-table {
            width: 100%;
            border-collapse: collapse;
        }

        .report-table th,
        .report-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .report-table th {
            background: rgba(255, 255, 255, 0.1);
            font-weight: 600;
        }

        @media print {
            body {
                background: white !important;
                color: black !important;
            }

            .glass-card {
                background: white !important;
                border: 1px solid #ccc !important;
                box-shadow: none !important;
            }

            .no-print {
                display: none !important;
            }
        }
    </style>
    <style>
        @view-transition {
            navigation: auto;
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
</head>

<body><!-- Homepage Section -->
    <div id="homepageSection" class="min-h-full"><!-- Hero Section -->
        <header class="glass-effect p-6">
            <div class="max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-4"><i class="fa-solid fa-hand-holding-dollar"
                        style="color: #f7f6f9; font-size: 25px;"></i>
                    <h1 class="text-2xl font-bold text-white">CB</h1>
                </div>
                <div class="flex flex-col sm:flex-row items-center gap-4"><!-- Language Selector -->
                    <div class="flex items-center space-x-2"><select id="languageSelector" onchange="changeLanguage()"
                            class="px-3 py-2 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50">
                            <option value="en" class="text-black">English</option>
                            <option value="ar" class="text-black">العربية (Arabic)</option>
                            <option value="sw" class="text-black">Kiswahili</option>
                            <option value="rw" class="text-black">Kinyarwanda</option>
                        </select>
                    </div>
                    <!-- Authentication Buttons -->
                    <div class="flex space-x-4">
                        <!-- Login Button -->
                        <button onclick="showAuthSection()"
                            class="btn-primary text-white px-6 py-3 rounded-lg font-semibold">
                            <i class="fas fa-sign-in-alt mr-2"></i>
                            <span data-translate="login">Login</span>
                        </button>
                        <!-- Sign Up Button -->
                        <button onclick="showAuthSection('signup')"
                            class="glass-effect text-white px-6 py-3 rounded-lg font-semibold border border-white border-opacity-30 hover:bg-white hover:bg-opacity-20">
                            <i class="fas fa-user-plus mr-2"></i>
                            <span data-translate="signup">Sign Up</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>
        <!-- Main Hero -->
        <div id="hero-section">
            <div class="max-w-7xl mx-auto px-6 py-20">
                <div class="text-center mb-16">
                    <h2 class="text-5xl font-bold text-white mb-6">Take Control of Your Financial Future</h2>
                    <p class="text-xl text-white opacity-90 mb-8 max-w-3xl mx-auto">Join our community-driven money
                        management platform where members save together, support each other through loans, and build
                        wealth through annual cashouts.</p><button onclick="showAuthSection('signup')"
                        class="btn-primary text-white px-8 py-4 rounded-lg font-semibold text-lg"> <i
                            class="fas fa-rocket mr-2"></i>Start Your Journey </button>
                </div>
                <!-- Features Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-20">
                    <div class="glass-card p-8 rounded-xl text-center"><i class="fa-solid fa-hand-holding-dollar"
                            style="color: #fafafa; font-size: 25px;"></i>
                        <h3 class="text-xl font-bold text-white mb-3">Smart Savings</h3>
                        <p class="text-white opacity-80">Set personalized savings goals and track your progress with our
                            intuitive tools.</p>
                    </div>
                    <div class="glass-card p-8 rounded-xl text-center"><i
                            class="fas fa-handshake text-4xl text-green-400 mb-4"></i>
                        <h3 class="text-xl font-bold text-white mb-3">Community Loans</h3>
                        <p class="text-white opacity-80">Access affordable loans from the community fund with
                            competitive interest rates.</p>
                    </div>
                    <div class="glass-card p-8 rounded-xl text-center"><i
                            class="fas fa-chart-line text-4xl text-purple-500 mb-4"></i>
                        <h3 class="text-xl font-bold text-white mb-3">Annual Cashouts</h3>
                        <p class="text-white opacity-80">Receive annual returns based on your savings, deposits, and
                            community participation.</p>
                    </div>
                    <div class="glass-card p-8 rounded-xl text-center"><i
                            class="fas fa-shield-alt text-4xl text-red-500 mb-4"></i>
                        <h3 class="text-xl font-bold text-white mb-3">Secure Platform</h3>
                        <p class="text-white opacity-80">Your financial data is protected with bank-level security and
                            encryption.</p>
                    </div>
                </div>

            </div>
        </div>
        <!-- How It Works -->
        <div class="glass-card p-12 rounded-xl mb-20 mt-40 max-w-7xl mx-7">
            <h3 class="text-3xl font-bold text-white text-center mb-12">How MoneyWise Works</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white font-bold text-xl">1</span>
                    </div>
                    <h4 class="text-xl font-bold text-white mb-3">Join &amp; Deposit</h4>
                    <p class="text-white opacity-80">Create your account and make your first deposit to start
                        building your financial foundation.</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white font-bold text-xl">2</span>
                    </div>
                    <h4 class="text-xl font-bold text-white mb-3">Save &amp; Grow</h4>
                    <p class="text-white opacity-80">Set savings goals, make regular deposits, and watch your money
                        grow throughout the year.</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-white font-bold text-xl">3</span>
                    </div>
                    <h4 class="text-xl font-bold text-white mb-3">Annual Rewards</h4>
                    <p class="text-white opacity-80">Receive your annual cashout based on your total contributions
                        and community participation.</p>
                </div>
            </div>
        </div>
        <!-- Benefits -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20">
            <div>
                <h3 class="text-3xl font-bold text-white mb-8">Why Choose MoneyWise?</h3>
                <div class="space-y-6">
                    <div class="flex items-start space-x-4"><i
                            class="fas fa-check-circle text-green-400 text-xl mt-1"></i>
                        <div>
                            <h4 class="text-lg font-semibold text-white mb-2">Community-Driven</h4>
                            <p class="text-white opacity-80">Built by the community, for the community. Every member has
                                a voice.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4"><i
                            class="fas fa-check-circle text-green-400 text-xl mt-1"></i>
                        <div>
                            <h4 class="text-lg font-semibold text-white mb-2">Transparent Fees</h4>
                            <p class="text-white opacity-80">No hidden charges. Clear, upfront pricing for all services.
                            </p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4"><i
                            class="fas fa-check-circle text-green-400 text-xl mt-1"></i>
                        <div>
                            <h4 class="text-lg font-semibold text-white mb-2">Flexible Terms</h4>
                            <p class="text-white opacity-80">Customize your savings and loan terms to fit your
                                lifestyle.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4"><i
                            class="fas fa-check-circle text-green-400 text-xl mt-1"></i>
                        <div>
                            <h4 class="text-lg font-semibold text-white mb-2">24/7 Support</h4>
                            <p class="text-white opacity-80">Get help whenever you need it through our member chat
                                system.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="glass-card p-8 rounded-xl"
                style="background-image: url(./1762244907845.jpg); opacity: 0.9; background-size: cover; background-position: center;">
                <h4 class="text-2xl font-bold text-white mb-6">Ready to Get Started?</h4>
                <p class="text-white opacity-90 mb-6">Join thousands of members who are already building their financial
                    future with MoneyWise. Start with as little as $10 and watch your money grow.</p>
                <div class="space-y-4"><button onclick="showAuthSection('signup')"
                        class="w-full btn-success text-white py-4 rounded-lg font-semibold text-lg"> <i
                            class="fas fa-user-plus mr-2"></i>Create Free Account </button> <button
                        onclick="showAuthSection()"
                        class="w-full glass-effect text-white py-3 rounded-lg font-semibold border border-white border-opacity-30">
                        <i class="fas fa-sign-in-alt mr-2"></i>Already a Member? Login </button>

                </div>
            </div>
        </div>
    </div><!-- Footer -->
    <footer class="glass-effect p-8 mt-20">
        <div class="max-w-7xl mx-auto text-center">
            <div class="flex items-center justify-center space-x-4 mb-4"><i class="fa-solid fa-hand-holding-dollar"
                    style="color: #f7f6f9; font-size: 25px;"></i>
                <h3 class="text-xl font-bold text-white">CB</h3>
            </div>
            <p class="text-white opacity-80 mb-4">Building financial futures together, one member at a time.</p>
            <div class="flex justify-center space-x-6 text-white opacity-60"><a href="#"
                    class="hover:opacity-100 transition-opacity">Privacy Policy</a> <a href="#"
                    class="hover:opacity-100 transition-opacity">Terms of Service</a> <a href="#"
                    class="hover:opacity-100 transition-opacity">Contact Us</a>
            </div>
            <p class="text-white opacity-60 text-sm mt-4">Copyrights © 2025 CB. All rights reserved.</p>
        </div>
    </footer>
    </div>
    <!-- Authentication Section -->
    <div id="authSection" class="hidden min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div class="text-center"><button onclick="showHomepage()"
                    class="text-white opacity-80 hover:opacity-100 mb-4"> <i class="fas fa-arrow-left mr-2"></i>Back to
                    Homepage </button> <i class="fas fa-piggy-bank text-6xl text-white mb-4"></i>
                <h2 class="text-3xl font-bold text-white">Money Management System</h2>
                <p class="mt-2 text-lg text-white opacity-80">Secure your financial future</p>
            </div><!-- Login Form -->
            <div id="loginForm" class="glass-card rounded-xl p-8">
                <h3 class="text-2xl font-bold text-white text-center mb-6">Sign In</h3>
                <form onsubmit="handleLogin(event)">
                    <div class="space-y-4">
                        <div><label for="loginEmail" class="block text-sm font-medium text-white mb-2">Email</label>
                            <input type="email" id="loginEmail" required
                                class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                placeholder="Enter your email">
                        </div>
                        <div><label for="loginPassword"
                                class="block text-sm font-medium text-white mb-2">Password</label> <input
                                type="password" id="loginPassword" required
                                class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                placeholder="Enter your password">
                        </div>
                        <div class="flex items-center justify-between"><label class="flex items-center text-white">
                                <input type="checkbox" class="mr-2"> <span class="text-sm">Remember me</span> </label>
                            <button type="button" class="text-sm text-white opacity-80 hover:opacity-100">Forgot
                                password?</button>
                        </div><button type="submit"
                            class="w-full btn-primary text-white font-semibold py-3 px-4 rounded-lg"> Sign In </button>
                    </div>
                </form>
                <div class="mt-6 text-center">
                    <p class="text-white opacity-80">Don't have an account? <button onclick="showSignup()"
                            class="text-white font-semibold hover:underline">Sign up</button></p>
                </div><!-- Admin Registration Section -->
                <div class="mt-8 p-4 glass-effect rounded-lg border-2 border-green-400 border-opacity-50">
                    <div class="text-center mb-4"><i class="fas fa-crown text-green-400 text-2xl mb-2"></i>
                        <h4 class="text-lg font-bold text-green-400">Admin Management</h4>
                        <p class="text-white opacity-80 text-sm">Create or login to admin account</p>
                    </div>
                    <div class="space-y-3"><button onclick="createAdminAccount()"
                            class="w-full btn-warning text-white font-semibold py-3 px-4 rounded-lg"> <i
                                class="fas fa-user-shield mr-2"></i>Create Admin Account </button>
                        <div class="text-center">
                            <p class="text-white opacity-70 text-sm">Default Admin Login:</p>
                            <p class="text-yellow-400 text-sm font-mono">admin@system.com / admin123</p>
                        </div><button onclick="loginAsAdmin()"
                            class="w-full bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded-lg text-sm">
                            Quick Admin Login </button>
                    </div>
                </div>
            </div>
            <!-- Signup Form -->
            <div id="signupForm" class="glass-card rounded-xl p-8 hidden">
                <h3 class="text-2xl font-bold text-white text-center mb-6">Create Account</h3>
                <form onsubmit="handleSignup(event)">
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="firstName" class="block text-sm font-medium text-white mb-2">First
                                    Name</label> <input type="text" id="firstName" required
                                    class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                    placeholder="First name">
                            </div>
                            <div><label for="lastName" class="block text-sm font-medium text-white mb-2">Last
                                    Name</label> <input type="text" id="lastName" required
                                    class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                    placeholder="Last name">
                            </div>
                        </div>
                        <div><label for="signupEmail" class="block text-sm font-medium text-white mb-2">Email</label>
                            <input type="email" id="signupEmail" required
                                class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                placeholder="Enter your email">
                        </div>
                        <div><label for="signupPassword"
                                class="block text-sm font-medium text-white mb-2">Password</label> <input
                                type="password" id="signupPassword" required
                                class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                placeholder="Create password">
                        </div>
                        <div><label for="confirmPassword" class="block text-sm font-medium text-white mb-2">Confirm
                                Password</label> <input type="password" id="confirmPassword" required
                                class="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                                placeholder="Confirm password">
                        </div><button type="submit"
                            class="w-full btn-primary text-white font-semibold py-3 px-4 rounded-lg"> Create Account
                        </button>
                    </div>
                </form>
                <div class="mt-6 text-center">
                    <p class="text-white opacity-80">Already have an account? <button onclick="showLogin()"
                            class="text-white font-semibold hover:underline">Sign in</button></p>
                </div>
            </div>
        </div>
    </div><!-- Main Dashboard -->
    <div id="dashboard" class="hidden min-h-full"><!-- Header -->
        <header class="glass-effect p-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4"><i class="fas fa-piggy-bank text-2xl text-white"></i>
                    <h1 class="text-xl font-bold text-white">Money Management</h1>
                </div>
                <div class="flex items-center space-x-4"><span id="userWelcome" class="text-white"></span> <button
                        onclick="logout()" class="text-white hover:text-red-300 transition-colors"> <i
                            class="fas fa-sign-out-alt"></i> Logout </button>
                </div>
            </div>
        </header>
        <div class="flex"><!-- Mobile Menu Button -->
            <div class="lg:hidden fixed top-20 left-4 z-50"><button onclick="toggleMobileMenu()"
                    class="glass-effect p-3 rounded-lg text-white shadow-lg"> <i id="menuIcon"
                        class="fas fa-bars text-xl"></i> </button>
            </div><!-- Sidebar -->
            <aside id="sidebar"
                class="fixed lg:relative top-0 left-0 w-64 glass-effect h-screen p-4 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 lg:z-auto">
                <!-- Close button for mobile -->
                <div class="lg:hidden flex justify-end mb-4"><button onclick="toggleMobileMenu()"
                        class="text-white opacity-80 hover:opacity-100"> <i class="fas fa-times text-xl"></i> </button>
                </div>
                <nav class="space-y-2 mt-16 lg:mt-0"><button onclick="showSection('overview')"
                        class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-chart-pie mr-3"></i>Overview </button> <button
                        onclick="showSection('deposits')"
                        class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-coins mr-3"></i>Deposits </button> <button onclick="showSection('loans')"
                        class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-hand-holding-usd mr-3"></i>Loans </button>
                    <div id="adminCashoutMenu" class="hidden"><button onclick="showSection('cashout')"
                            class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                            <i class="fas fa-money-bill-wave mr-3"></i>Cashout Management </button>
                    </div><button onclick="showSection('summary')"
                        class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-chart-line mr-3"></i>My Summary </button> <button onclick="showSection('chat')"
                        class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                        <i class="fas fa-comments mr-3"></i>Member Chat </button>
                    <div id="adminMenu" class="hidden"><button onclick="showSection('audit')"
                            class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                            <i class="fas fa-search mr-3"></i>Audit Dashboard </button> <button
                            onclick="showSection('reports')"
                            class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                            <i class="fas fa-file-alt mr-3"></i>Annual Reports </button> <button
                            onclick="showSection('admin')"
                            class="nav-btn w-full text-left px-4 py-3 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all">
                            <i class="fas fa-cog mr-3"></i>Admin Panel </button>
                    </div>
                </nav>
            </aside>
            <!-- Overlay for mobile -->
            <div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden hidden"
                onclick="toggleMobileMenu()"></div><!-- Main Content -->
            <main class="flex-1 p-4 sm:p-6 lg:ml-0 min-h-screen"><!-- Overview Section -->
                <div id="overviewSection" class="section">
                    <h2 class="text-2xl sm:text-3xl font-bold text-white mb-4 sm:mb-6">Financial Overview</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8">
                        <div class="glass-card p-4 sm:p-6 rounded-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white opacity-80 text-xs sm:text-sm">Total Balance</p>
                                    <p id="totalBalance" class="text-lg sm:text-2xl font-bold text-white">$0.00</p>
                                </div><i class="fas fa-wallet text-2xl sm:text-3xl text-green-400"></i>
                            </div>
                        </div>
                        <div class="glass-card p-4 sm:p-6 rounded-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white opacity-80 text-xs sm:text-sm">Total Savings</p>
                                    <p id="totalSavings" class="text-lg sm:text-2xl font-bold text-white">$0.00</p>
                                </div><i class="fas fa-piggy-bank text-2xl sm:text-3xl text-blue-400"></i>
                            </div>
                        </div>
                        <div class="glass-card p-4 sm:p-6 rounded-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white opacity-80 text-xs sm:text-sm">Active Loans</p>
                                    <p id="totalLoans" class="text-lg sm:text-2xl font-bold text-white">$0.00</p>
                                </div><i class="fas fa-hand-holding-usd text-2xl sm:text-3xl text-red-400"></i>
                            </div>
                        </div>
                        <div class="glass-card p-4 sm:p-6 rounded-xl">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-white opacity-80 text-xs sm:text-sm">Annual Cashout</p>
                                    <p id="annualCashout" class="text-lg sm:text-2xl font-bold text-white">$0.00</p>
                                </div><i class="fas fa-calendar-check text-2xl sm:text-3xl text-purple-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Savings Section -->
                <div id="savingsSection" class="section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-white">Savings Accounts</h2><button
                            onclick="showAddSavingsModal()"
                            class="btn-success text-white px-6 py-3 rounded-lg font-semibold"> <i
                                class="fas fa-plus mr-2"></i>Add Savings Goal </button>
                    </div>
                    <div id="savingsList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Savings cards will be populated here -->
                    </div>
                </div><!-- Deposits Section -->
                <div id="depositsSection" class="section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-white">Deposits</h2>
                        <div id="memberDepositButton"><button onclick="showDepositModal()"
                                class="btn-success text-white px-6 py-3 rounded-lg font-semibold"> <i
                                    class="fas fa-plus mr-2"></i>Make Deposit </button>
                        </div>
                        <div id="adminDepositButton" class="hidden"><button onclick="showDepositModal()"
                                class="btn-success text-white px-6 py-3 rounded-lg font-semibold"> <i
                                    class="fas fa-plus mr-2"></i>Register Deposit </button>
                        </div>
                    </div><!-- Admin View: All Members' Deposits -->
                    <div id="adminDepositsView" class="hidden">
                        <div class="glass-card p-6 rounded-xl mb-6">
                            <h3 class="text-xl font-bold text-white mb-4">All Member Deposits</h3>
                            <div class="overflow-x-auto">
                                <table class="report-table text-white w-full">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Member Name</th>
                                            <th>Phone Number</th>
                                            <th>Amount</th>
                                            <th>Description</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminDepositsTable"><!-- Admin deposits table will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div><!-- Deposit Statistics -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="glass-card p-6 rounded-xl">
                                <h4 class="text-lg font-semibold text-white mb-2">Today's Deposits</h4>
                                <p id="todayDeposits" class="text-2xl font-bold text-green-400">$0.00</p>
                                <p class="text-white opacity-60 text-sm">From <span id="todayDepositCount">0</span>
                                    members</p>
                            </div>
                            <div class="glass-card p-6 rounded-xl">
                                <h4 class="text-lg font-semibold text-white mb-2">This Month</h4>
                                <p id="monthDeposits" class="text-2xl font-bold text-blue-400">$0.00</p>
                                <p class="text-white opacity-60 text-sm">From <span id="monthDepositCount">0</span>
                                    deposits</p>
                            </div>
                            <div class="glass-card p-6 rounded-xl">
                                <h4 class="text-lg font-semibold text-white mb-2">Total This Year</h4>
                                <p id="yearDeposits" class="text-2xl font-bold text-purple-400">$0.00</p>
                                <p class="text-white opacity-60 text-sm">From <span id="yearDepositCount">0</span>
                                    deposits</p>
                            </div>
                        </div>
                    </div><!-- Member View: Personal Deposits -->
                    <div id="memberDepositsView" class="glass-card p-6 rounded-xl">
                        <h3 class="text-xl font-bold text-white mb-4">My Deposits</h3>
                        <div id="depositsList" class="space-y-4"><!-- Member deposits will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Loans Section -->
                <div id="loansSection" class="section hidden">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4">
                        <h2 class="text-2xl sm:text-3xl font-bold text-white">Loans</h2>
                        <div id="memberLoanButton"><button onclick="showLoanModal()"
                                class="bg-orange-500 hover:bg-orange-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-sm sm:text-base w-full sm:w-auto">
                                <i class="fas fa-plus mr-2"></i>Apply for Loan </button>
                        </div>
                    </div>
                    <div id="loansList" class="space-y-4"><!-- Loans will be populated here -->
                    </div>
                </div><!-- Cashout Section -->
                <div id="cashoutSection" class="section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-white">Annual Cashout</h2>
                        <div class="flex items-center space-x-4"><select id="cashoutYear"
                                class="px-4 py-2 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white"
                                onchange="calculateAnnualCashout()">
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                            </select> <button onclick="processCashoutRequest()"
                                class="btn-success text-white px-6 py-3 rounded-lg font-semibold"> <i
                                    class="fas fa-money-bill-wave mr-2"></i>Request Cashout </button>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"><!-- Cashout Calculation -->
                        <div class="glass-card p-6 rounded-xl">
                            <h3 class="text-xl font-bold text-white mb-4">Cashout Calculation</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center p-3 glass-effect rounded-lg"><span
                                        class="text-white opacity-80">Total Savings:</span> <span
                                        id="totalSavingsAmount" class="text-white font-bold">$0.00</span>
                                </div>
                                <div class="flex justify-between items-center p-3 glass-effect rounded-lg"><span
                                        class="text-white opacity-80">Total Deposits:</span> <span
                                        id="totalDepositsAmount" class="text-white font-bold">$0.00</span>
                                </div>
                                <div class="flex justify-between items-center p-3 glass-effect rounded-lg"><span
                                        class="text-white opacity-80">Loan Payments Made:</span> <span
                                        id="loanPaymentsAmount" class="text-white font-bold">$0.00</span>
                                </div>
                                <div class="border-t border-white border-opacity-20 pt-4">
                                    <div
                                        class="flex justify-between items-center p-4 bg-green-500 bg-opacity-20 rounded-lg">
                                        <span class="text-white font-semibold text-lg">Annual Cashout Total:</span>
                                        <span id="annualCashoutTotal"
                                            class="text-green-400 font-bold text-2xl">$0.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Cashout Details -->
                        <div>
                            <h3>Cashout Breakdown</h3>
                            <div>
                                <div>
                                    <p>How it works:</p>
                                    <ul>
                                        <li>Your savings accumulate throughout the year</li>
                                        <li>All deposits are added to your cashout</li>
                                        <li>Loan payments you've made are included</li>
                                        <li>Total is available for annual withdrawal</li>
                                    </ul>
                                </div>
                                <div>
                                    <p>Payment Schedule:</p>
                                    <p>Annual cashouts are processed at the end of each calendar year. You can request
                                        your cashout starting December 1st.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Cashout History -->
                    <div>
                        <h3>Cashout History</h3>
                        <div id="cashoutHistory">
                            <!-- Cashout history will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Member Summary Section -->
                <div id="summarySection">
                    <h2>My Financial Summary</h2>
                    <div>
                        <!-- Personal Stats -->
                        <div>
                            <h3>Account Overview</h3>
                            <div>
                                <div>
                                    <span>Member Since:</span>
                                    <span id="memberSince">-</span>
                                </div>
                                <div>
                                    <span>Total Deposits:</span>
                                    <span id="memberTotalDeposits">$0.00</span>
                                </div>
                                <div>
                                    <span>Active Savings:</span>
                                    <span id="memberActiveSavings">$0.00</span>
                                </div>
                                <div>
                                    <span>Current Loans:</span>
                                    <span id="memberCurrentLoans">$0.00</span>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Activity -->
                        <div>
                            <h3>Recent Activity</h3>
                            <div id="recentActivity">
                                <!-- Recent activity will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div>
                        <h3>Quick Actions</h3>
                        <div>
                            <button onclick="showDepositModal()">Make Deposit</button>
                            <button onclick="showAddSavingsModal()">New Savings Goal</button>
                            <button onclick="showLoanModal()">Apply for Loan</button>
                        </div>
                    </div>
                </div>

                <!-- Annual Reports Section -->
                <div id="reportsSection">
                    <div>
                        <h2>Annual Financial Reports</h2>
                        <div>
                            <select id="reportYear">
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                            </select>
                            <button onclick="generateReport()">Generate Report</button>
                        </div>
                    </div>

                    <div id="reportContent">
                        <div>
                            <h3>Financial Summary Report</h3>
                            <div>
                                <button onclick="downloadPDF()">Download PDF</button>
                                <button onclick="printReport()">Print Report</button>
                            </div>
                        </div>

                        <div id="reportData">
                            <div>
                                <div>
                                    <h4>Total Deposits</h4>
                                    <p id="reportTotalDeposits">$0.00</p>
                                </div>
                                <div>
                                    <h4>Total Loans</h4>
                                    <p id="reportTotalLoans">$0.00</p>
                                </div>
                                <div>
                                    <h4>Interest Earned</h4>
                                    <p id="reportInterestEarned">$0.00</p>
                                </div>
                            </div>

                            <div>
                                <h4>Deposit History</h4>
                                <table>
                                    <thead id="depositsTableHeader">
                                        <tr>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            <th>Description</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="reportDepositsTable">
                                        <!-- Deposit data will be populated here -->
                                    </tbody>
                                </table>
                            </div>

                            <div>
                                <h4>Loan History</h4>
                                <table>
                                    <thead id="loansTableHeader">
                                        <tr>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            <th>Interest Rate</th>
                                            <th>Term</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="reportLoansTable">
                                        <!-- Loan data will be populated here -->
                                    </tbody>
                                </table>
                            </div>

                            <div>
                                <h4>Cashout History</h4>
                                <table>
                                    <thead id="cashoutsTableHeader">
                                        <tr>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            <th>Method</th>
                                            <th>Fee</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="reportCashoutsTable">
                                        <!-- Cashout data will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Audit Dashboard Section -->
                <div id="auditSection">
                    <div>
                        <h2>Audit Dashboard</h2>
                        <div>
                            <select id="auditTimeframe" onchange="loadAuditData()">
                                <option value="today">Today</option>
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                                <option value="year">This Year</option>
                                <option value="all">All Time</option>
                            </select>
                            <button onclick="exportAuditData()">Export Data</button>
                        </div>
                    </div>
                </div>
                <!-- Key Metrics -->
                <div>
                    <div>
                        <div>
                            <div>
                                <div>
                                    <p>Total Members</p>
                                    <p id="auditTotalMembers">0</p>
                                </div>
                                <i class="fas fa-users"></i>
                            </div>
                            <p id="auditMembersChange">+0 this period</p>
                        </div>

                        <div>
                            <div>
                                <div>
                                    <p>Total Deposits</p>
                                    <p id="auditTotalDeposits">$0.00</p>
                                </div>
                                <i class="fas fa-coins"></i>
                            </div>
                            <p id="auditDepositsChange">+$0 this period</p>
                        </div>

                        <div>
                            <div>
                                <div>
                                    <p>Active Loans</p>
                                    <p id="auditActiveLoans">$0.00</p>
                                </div>
                                <i class="fas fa-hand-holding-usd"></i>
                            </div>
                            <p id="auditLoansChange">0 active loans</p>
                        </div>

                        <div>
                            <div>
                                <div>
                                    <p>System Health</p>
                                    <p id="auditSystemHealth">Excellent</p>
                                </div>
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <p>All systems operational</p>
                        </div>
                    </div>
                </div>

                <!-- Activity Timeline -->
                <div>
                    <div>
                        <h3>Recent Activity</h3>
                        <div id="auditActivityTimeline">
                            <!-- Activity timeline will be populated here -->
                        </div>
                    </div>

                    <div>
                        <h3>Risk Assessment</h3>
                        <div>
                            <div>
                                <div>
                                    <span>Loan Default Risk</span>
                                    <span id="auditDefaultRisk">Low</span>
                                </div>
                                <div>
                                    <div id="auditDefaultRiskBar" style="width: 15%"></div>
                                </div>
                            </div>

                            <div>
                                <div>
                                    <span>Liquidity Risk</span>
                                    <span id="auditLiquidityRisk">Low</span>
                                </div>
                                <div>
                                    <div id="auditLiquidityRiskBar" style="width: 20%"></div>
                                </div>
                            </div>

                            <div>
                                <div>
                                    <span>Member Satisfaction</span>
                                    <span id="auditSatisfaction">High</span>
                                </div>
                                <div>
                                    <div id="auditSatisfactionBar" style="width: 85%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Analytics -->
                <div>
                    <h3>Detailed Analytics</h3>
                    <div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Member</th>
                                    <th>Total Deposits</th>
                                    <th>Active Loans</th>
                                    <th>Payment History</th>
                                    <th>Risk Score</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="auditMembersTable">
                                <!-- Member analytics will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Chat Section -->
                <div id="chatSection">
                    <div>
                        <h2>Member Chat</h2>
                        <div>
                            <span>
                                <i class="fas fa-users"></i>
                                <span id="onlineCount">0</span> members online
                            </span>
                        </div>
                    </div>

                    <div>
                        <!-- Chat Messages -->
                        <div>
                            <div>
                                <div>
                                    <h3>General Chat</h3>
                                    <p>Connect with all members</p>
                                </div>

                                <div id="messagesContainer">
                                    <!-- Messages will be populated here -->
                                </div>

                                <div>
                                    <form onsubmit="sendMessage(event)">
                                        <input type="text" id="messageInput" placeholder="Type your message..."
                                            maxlength="500">
                                        <button type="button" id="voiceBtn" onclick="toggleVoiceRecording()">
                                            <i class="fas fa-microphone"></i>
                                        </button>
                                        <button type="submit">Send</button>
                                    </form>

                                    <div id="recordingIndicator">
                                        <span>
                                            <i class="fas fa-circle"></i> Recording... Click to stop
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Online Members -->
                        <div>
                            <h4>Online Members</h4>
                            <div id="onlineMembers">
                                <!-- Online members will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Section -->
                <div id="adminSection">
                    <h2>Admin Panel</h2>

                    <div>
                        <div>
                            <h3>System Stats</h3>
                            <div>
                                <p>Total Users: <span id="totalUsers">0</span></p>
                                <p>Total Deposits: <span id="adminTotalDeposits">$0.00</span></p>
                                <p>Total Loans: <span id="adminTotalLoans">$0.00</span></p>
                            </div>
                        </div>

                        <div>
                            <h3>Interest Rates</h3>
                            <div>
                                <div>
                                    <label>Loan Interest Rate (%)</label>
                                    <input type="number" id="loanInterestRate" value="5" min="0" max="50" step="0.1">
                                </div>
                                <button onclick="updateInterestRates()">Update Rates</button>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3>User Management</h3>
                        <div id="usersList">
                            <!-- Users list will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Add Savings Modal -->
                <div id="addSavingsModal">
                    <div>
                        <h3>Add Savings Goal</h3>
                        <form onsubmit="addSavingsGoal(event)">
                            <div>
                                <div>
                                    <label>Goal Name</label>
                                    <input type="text" id="savingsName" required>
                                </div>
                                <div>
                                    <label>Target Amount ($)</label>
                                    <input type="number" id="savingsTarget" required min="1" step="0.01">
                                </div>
                                <div>
                                    <label>Initial Deposit ($)</label>
                                    <input type="number" id="savingsInitial" min="0" step="0.01">
                                </div>
                                <div>
                                    <button type="submit">Create Goal</button>
                                    <button type="button" onclick="closeModal('addSavingsModal')">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- Deposit Modal -->
                <div id="depositModal">
                    <div>
                        <h3 id="depositModalTitle">Make Deposit</h3>
                        <form onsubmit="makeDeposit(event)">
                            <div>
                                <!-- Admin: Select Member -->
                                <div id="adminMemberSelect">
                                    <label>Select Member</label>
                                    <select id="depositMemberId">
                                        <option value="">Choose a member...</option>
                                    </select>
                                </div>

                                <div>
                                    <label>Amount ($)</label>
                                    <input type="number" id="depositAmount" required min="1" step="0.01">
                                </div>

                                <div>
                                    <label>Description</label>
                                    <input type="text" id="depositDescription">
                                </div>

                                <!-- Admin: Phone Number -->
                                <div id="adminPhoneInput">
                                    <label>Member Phone Number</label>
                                    <input type="tel" id="depositPhone" placeholder="Enter phone number">
                                </div>

                                <div>
                                    <button type="submit" id="depositSubmitBtn">Deposit</button>
                                    <button type="button" onclick="closeModal('depositModal')">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Loan Modal -->
                <div id="loanModal">
                    <div>
                        <h3>Apply for Loan</h3>
                        <form onsubmit="applyForLoan(event)">
                            <div>
                                <div>
                                    <label>Loan Amount ($)</label>
                                    <input type="number" id="loanAmount" required min="100" step="0.01"
                                        oninput="updateLoanPreview()">
                                </div>

                                <div>
                                    <label>Loan Term (months)</label>
                                    <select id="loanTerm" required onchange="updateLoanPreview()">
                                        <option value="6">6 months</option>
                                        <option value="12">12 months</option>
                                        <option value="24">24 months</option>
                                        <option value="36">36 months</option>
                                    </select>
                                </div>

                                <div>
                                    <label>Purpose</label>
                                    <input type="text" id="loanPurpose" required>
                                </div>

                                <div id="loanPreview">
                                    <p>Interest Rate: <span id="previewRate">5%</span></p>
                                    <p>Monthly Payment: <span id="previewPayment">$0.00</span></p>
                                    <p>Total Repayment: <span id="previewTotal">$0.00</span></p>
                                </div>

                                <div>
                                    <button type="submit">Apply</button>
                                    <button type="button" onclick="closeModal('loanModal')">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>



</body>

</html>