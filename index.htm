<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Management System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    </head>
<body>
    
    <div id="homepageSection">
        
        <header>
            <div>
                <div>
                    <i class="fas fa-piggy-bank"></i>
                    <h1>MoneyWise</h1>
                </div>
                <div>
                    <button onclick="showAuthSection()">Login</button>
                    <button onclick="showAuthSection('signup')">Sign Up</button>
                </div>
            </div>
        </header>
        <div>
            <div>
                <h2>Take Control of Your Financial Future</h2>
                <p>
                    Join our community-driven money management platform where members save together, 
                    support each other through loans, and build wealth through annual cashouts.
                </p>
                <button onclick="showAuthSection('signup')">Start Your Journey</button>
            </div>

            <div>
                <div>
                    <i class="fas fa-piggy-bank"></i>
                    <h3>Smart Savings</h3>
                    <p>Set personalized savings goals and track your progress with our intuitive tools.</p>
                </div>
                
                <div>
                    <i class="fas fa-handshake"></i>
                    <h3>Community Loans</h3>
                    <p>Access affordable loans from the community fund with competitive interest rates.</p>
                </div>
                
                <div>
                    <i class="fas fa-chart-line"></i>
                    <h3>Annual Cashouts</h3>
                    <p>Receive annual returns based on your savings, deposits, and community participation.</p>
                </div>
                
                <div>
                    <i class="fas fa-shield-alt"></i>
                    <h3>Secure Platform</h3>
                    <p>Your financial data is protected with bank-level security and encryption.</p>
                </div>
            </div>

            <div>
                <h3>How MoneyWise Works</h3>
                <div>
                    <div>
                        <div>
                            <span>1</span>
                        </div>
                        <h4>Join & Deposit</h4>
                        <p>Create your account and make your first deposit to start building your financial foundation.</p>
                    </div>
                    
                    <div>
                        <div>
                            <span>2</span>
                        </div>
                        <h4>Save & Grow</h4>
                        <p>Set savings goals, make regular deposits, and watch your money grow throughout the year.</p>
                    </div>
                    
                    <div>
                        <div>
                            <span>3</span>
                        </div>
                        <h4>Annual Rewards</h4>
                        <p>Receive your annual cashout based on your total contributions and community participation.</p>
                    </div>
                </div>
            </div>

            <div>
                <div>
                    <h3>Why Choose MoneyWise?</h3>
                    <div>
                        <div>
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <h4>Community-Driven</h4>
                                <p>Built by the community, for the community. Every member has a voice.</p>
                            </div>
                        </div>
                        
                        <div>
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <h4>Transparent Fees</h4>
                                <p>No hidden charges. Clear, upfront pricing for all services.</p>
                            </div>
                        </div>
                        
                        <div>
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <h4>Flexible Terms</h4>
                                <p>Customize your savings and loan terms to fit your lifestyle.</p>
                            </div>
                        </div>
                        
                        <div>
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <h4>24/7 Support</h4>
                                <p>Get help whenever you need it through our member chat system.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4>Ready to Get Started?</h4>
                    <p>
                        Join thousands of members who are already building their financial future with MoneyWise. 
                        Start with as little as $10 and watch your money grow.
                    </p>
                    <div>
                        <button onclick="showAuthSection('signup')">Create Free Account</button>
                        <button onclick="showAuthSection()">Already a Member? Login</button>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <div>
                <div>
                    <i class="fas fa-piggy-bank"></i>
                    <h3>MoneyWise</h3>
                </div>
                <p>Building financial futures together, one member at a time.</p>
                <div>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Contact Us</a>
                </div>
                <p>Â© 2024 MoneyWise. All rights reserved.</p>
            </div>
        </footer>
        </div>
    <div id="authSection" class="hidden">
        <div>
            <div>
                <button onclick="showHomepage()">Back to Homepage</button>
                <i class="fas fa-piggy-bank"></i>
                <h2>Money Management System</h2>
                <p>Secure your financial future</p>
            </div>
            
            <div id="loginForm">
                <h3>Sign In</h3>
                <form onsubmit="handleLogin(event)">
                    <div>
                        <div>
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" required placeholder="Enter your email">
                        </div>
                        <div>
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" required placeholder="Enter your password">
                        </div>
                        <div>
                            <label>
                                <input type="checkbox">
                                <span>Remember me</span>
                            </label>
                            <button type="button">Forgot password?</button>
                        </div>
                        <button type="submit">
                            Sign In
                        </button>
                    </div>
                </form>
                <div>
                    <p>Don't have an account? 
                        <button onclick="showSignup()">Sign up</button>
                    </p>
                </div>
                
                <div>
                    <div>
                        <i class="fas fa-crown"></i>
                        <h4>Admin Management</h4>
                        <p>Create or login to admin account</p>
                    </div>
                    
                    <div>
                        <button onclick="createAdminAccount()">Create Admin Account</button>
                        
                        <div>
                            <p>Default Admin Login:</p>
                            <p>admin@system.com / admin123</p>
                        </div>
                        
                        <button onclick="loginAsAdmin()">Quick Admin Login</button>
                    </div>
                </div>
                </div>
            <div id="signupForm" class="hidden">
                <h3>Create Account</h3>
                <form onsubmit="handleSignup(event)">
                    <div>
                        <div>
                            <div>
                                <label for="firstName">First Name</label>
                                <input type="text" id="firstName" required placeholder="First name">
                            </div>
                            <div>
                                <label for="lastName">Last Name</label>
                                <input type="text" id="lastName" required placeholder="Last name">
                            </div>
                        </div>
                        <div>
                            <label for="signupEmail">Email</label>
                            <input type="email" id="signupEmail" required placeholder="Enter your email">
                        </div>
                        <div>
                            <label for="signupPassword">Password</label>
                            <input type="password" id="signupPassword" required placeholder="Create password">
                        </div>
                        <div>
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" id="confirmPassword" required placeholder="Confirm password">
                        </div>
                        <button type="submit">
                            Create Account
                        </button>
                    </div>
                </form>
                <div>
                    <p>Already have an account? 
                        <button onclick="showLogin()">Sign in</button>
                    </p>
                </div>
            </div>
            </div>
    </div>
    <div id="dashboard" class="hidden">
        
        <header>
            <div>
                <div>
                    <i class="fas fa-piggy-bank"></i>
                    <h1>Money Management</h1>
                </div>
                <div>
                    <span id="userWelcome"></span>
                    <button onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </header>
        <div>
            <aside>
                <nav>
                    <button onclick="showSection('overview')">
                        <i class="fas fa-chart-pie"></i>Overview
                    </button>
                    <button onclick="showSection('savings')">
                        <i class="fas fa-piggy-bank"></i>Savings
                    </button>
                    <button onclick="showSection('deposits')">
                        <i class="fas fa-coins"></i>Deposits
                    </button>
                    <button onclick="showSection('loans')">
                        <i class="fas fa-hand-holding-usd"></i>Loans
                    </button>
                    <div id="adminCashoutMenu" class="hidden">
                        <button onclick="showSection('cashout')">
                            <i class="fas fa-money-bill-wave"></i>Cashout Management
                        </button>
                    </div>
                    <button onclick="showSection('summary')">
                        <i class="fas fa-chart-line"></i>My Summary
                    </button>
                    <button onclick="showSection('chat')">
                        <i class="fas fa-comments"></i>Member Chat
                    </button>
                    <div id="adminMenu" class="hidden">
                        <button onclick="showSection('reports')">
                            <i class="fas fa-file-alt"></i>Annual Reports
                        </button>
                        <button onclick="showSection('admin')">
                            <i class="fas fa-cog"></i>Admin Panel
                        </button>
                    </div>
                </nav>
            </aside>
            <main>
                
                <div id="overviewSection" class="section">
                    <h2>Financial Overview</h2>
                    <div>
                        <div>
                            <div>
                                <p>Total Balance</p>
                                <p id="totalBalance">$0.00</p>
                            </div>
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div>
                            <div>
                                <p>Total Savings</p>
                                <p id="totalSavings">$0.00</p>
                            </div>
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <div>
                            <div>
                                <p>Active Loans</p>
                                <p id="totalLoans">$0.00</p>
                            </div>
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div>
                            <div>
                                <p>Annual Cashout</p>
                                <p id="annualCashout">$0.00</p>
                            </div>
                            <i class="fas fa-calendar-check"></i>
                        </div>
                    </div>
                </div>
                <div id="savingsSection" class="section hidden">
                    <div>
                        <h2>Savings Accounts</h2>
                        <button onclick="showAddSavingsModal()">
                            <i class="fas fa-plus"></i>Add Savings Goal
                        </button>
                    </div>
                    <div id="savingsList">
                        </div>
                </div>
                <div id="depositsSection" class="section hidden">
                    <div>
                        <h2>Deposits</h2>
                        <button onclick="showDepositModal()">
                            <i class="fas fa-plus"></i>Make Deposit
                        </button>
                    </div>
                    <div>
                        <h3>Recent Deposits</h3>
                        <div id="depositsList">
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="depositsTableBody">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="loansSection" class="section hidden">
                    <div>
                        <h2>Community Loans</h2>
                        <button onclick="showLoanApplicationModal()">
                            <i class="fas fa-plus"></i>Apply for Loan
                        </button>
                    </div>
                    <div>
                        <h3>Loan Status</h3>
                        <div id="loanStatus" class="flex-col">
                            <p>You currently have no active loans.</p>
                            <button onclick="showLoanApplicationModal()">Apply Now</button>
                        </div>
                        
                        <h3 class="mt-8">Loan Repayment History</h3>
                        <div id="loanHistory">
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Payment</th>
                                        <th>Principal</th>
                                        <th>Interest</th>
                                        <th>Remaining</th>
                                    </tr>
                                </thead>
                                <tbody id="loanHistoryBody">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="cashoutSection" class="section hidden">
                    <h2 class="text-3xl font-bold text-white mb-6">Annual Cashout Management</h2>
                    
                    <div id="cashoutAdminView" class="hidden">
                        <h3>Community Fund Balance</h3>
                        <p id="communityFundBalance">$0.00</p>
                        
                        <h3>Member Cashout Calculation</h3>
                        <button onclick="calculateAnnualCashouts()">Calculate & Distribute</button>

                        <h3 class="mt-8">Cashout History</h3>
                        <div id="cashoutHistoryAdmin">
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Year</th>
                                        <th>Total Distributed</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="cashoutUserView">
                        <h3>Your Projected Cashout</h3>
                        <p id="userProjectedCashout">$0.00</p>
                        <p>Based on your deposits and community activity this year.</p>
                        
                        <h3 class="mt-8">Your Cashout History</h3>
                        <div id="cashoutHistoryUser">
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Year</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    </tbody>
                            </table>
                        </div>
                    </div>
                    </div>
                <div id="summarySection" class="section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2>My Financial Summary</h2>
                        <button onclick="generatePdfReport()">
                            <i class="fas fa-file-pdf mr-2"></i>Download Report (PDF)
                        </button>
                    </div>

                    <div id="summaryContent">
                        <h3>Summary Metrics</h3>
                        <ul>
                            <li>Total Deposits: <span id="summaryTotalDeposits">$0.00</span></li>
                            <li>Total Loan Repayments: <span id="summaryTotalRepayments">$0.00</span></li>
                            <li>Current Net Worth: <span id="summaryNetWorth">$0.00</span></li>
                            <li>Savings Goal Progress: <span id="summaryGoalProgress">0%</span></li>
                        </ul>
                    </div>
                    
                    <h3 class="mt-8">Annual Activity Chart Placeholder</h3>
                    <div id="activityChart">
                        [Placeholder for a financial chart (e.g., bar or line graph) showing monthly activity]
                    </div>
                </div>
                <div id="chatSection" class="section hidden">
                    <h2>Member Support Chat</h2>
                    <div id="chatWindow">
                        <div id="messagesContainer">
                            <div class="message received">
                                <div>Welcome to MoneyWise support! How can I help you today?</div>
                                <div class="message-time">9:00 AM</div>
                            </div>
                            <div class="message sent">
                                <div>Hi, I have a question about my annual cashout projection.</div>
                                <div class="message-time">9:05 AM</div>
                            </div>
                        </div>
                    </div>
                    <div id="chatInputArea">
                        <input type="text" id="chatInput" placeholder="Type a message...">
                        <button onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                        <button id="micButton" onclick="toggleRecording()">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                </div>
                <div id="reportsSection" class="section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2>Annual Financial Reports</h2>
                        <button onclick="printReport()">
                            <i class="fas fa-print mr-2"></i>Print Report
                        </button>
                    </div>

                    <div class="no-print">
                        <h3>Report Filters</h3>
                        <select id="reportYear">
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                        </select>
                        <button onclick="loadReport()">Load Report</button>
                    </div>

                    <div id="annualReportData">
                        <h3>2024 System Overview Report</h3>
                        <table class="report-table">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Total Members</td>
                                    <td id="reportTotalMembers">1250</td>
                                </tr>
                                <tr>
                                    <td>Total Deposits YTD</td>
                                    <td id="reportTotalDeposits">$1,500,000.00</td>
                                </tr>
                                <tr>
                                    <td>Total Loans Outstanding</td>
                                    <td id="reportLoansOutstanding">$450,000.00</td>
                                </tr>
                                <tr>
                                    <td>Annual Return Rate</td>
                                    <td id="reportReturnRate">12.5%</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3 class="mt-8">Top 5 Depositors</h3>
                        <table class="report-table">
                            <thead>
                                <tr>
                                    <th>Member ID</th>
                                    <th>Total Deposit</th>
                                </tr>
                            </thead>
                            <tbody id="topDepositorsBody">
                                </tbody>
                        </table>
                    </div>
                </div>
                <div id="adminSection" class="section hidden">
                    <h2>System Administration Panel</h2>

                    <div id="adminControls">
                        <h3>User Management</h3>
                        <div>
                            <select id="userSelect">
                                <option value="">Select User</option>
                            </select>
                            <button onclick="resetUserPassword()">Reset Password</button>
                            <button onclick="deactivateUser()">Deactivate Account</button>
                        </div>
                        
                        <h3 class="mt-8">System Settings</h3>
                        <div>
                            <label for="interestRate">Loan Interest Rate (%)</label>
                            <input type="number" id="interestRate" value="8.5">
                            <button onclick="updateSettings()">Update Rate</button>
                        </div>
                    </div>
                </div>
                </main>
            </div>
    </div>
    <div id="depositModal" class="hidden">
        <div>
            <h3>Make New Deposit</h3>
            <form onsubmit="handleDeposit(event)">
                <div>
                    <label for="depositAmount">Amount ($)</label>
                    <input type="number" id="depositAmount" required min="10">
                </div>
                <div>
                    <label for="depositMethod">Method</label>
                    <select id="depositMethod">
                        <option value="bank">Bank Transfer</option>
                        <option value="mobile">Mobile Money</option>
                    </select>
                </div>
                <div>
                    <button type="submit">Confirm Deposit</button>
                    <button type="button" onclick="closeDepositModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <div id="addSavingsModal" class="hidden">
        <div>
            <h3>Create New Savings Goal</h3>
            <form onsubmit="handleAddSavings(event)">
                <div>
                    <label for="goalName">Goal Name</label>
                    <input type="text" id="goalName" required>
                </div>
                <div>
                    <label for="goalTarget">Target Amount ($)</label>
                    <input type="number" id="goalTarget" required min="100">
                </div>
                <div>
                    <label for="goalDeadline">Deadline</label>
                    <input type="date" id="goalDeadline">
                </div>
                <div>
                    <button type="submit">Create Goal</button>
                    <button type="button" onclick="closeAddSavingsModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <div id="loanApplicationModal" class="hidden">
        <div>
            <h3>Apply for Community Loan</h3>
            <form onsubmit="handleLoanApplication(event)">
                <div>
                    <label for="loanAmount">Loan Amount ($)</label>
                    <input type="number" id="loanAmount" required min="100">
                </div>
                <div>
                    <label for="loanPurpose">Purpose</label>
                    <textarea id="loanPurpose" required></textarea>
                </div>
                <div>
                    <label for="loanTerm">Repayment Term (Months)</label>
                    <select id="loanTerm">
                        <option value="6">6 Months</option>
                        <option value="12">12 Months</option>
                        <option value="24">24 Months</option>
                    </select>
                </div>
                <div>
                    <button type="submit">Submit Application</button>
                    <button type="button" onclick="closeLoanApplicationModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <div id="notification" class="notification">
        </div>
    <script>
        // All JavaScript functions (showAuthSection, handleLogin, showSection, etc.)
        // will go here to control the view and application state.here
    </script>
    </body>
</html>